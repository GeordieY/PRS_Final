<!DOCTYPE html>
<html>
<head>
  <title>P,R,S - Stats</title>
  <link rel="stylesheet" href="styles/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
 </head>
<body>
  <% include global/header %>

  <div id="stats">
    <h2> User Stats</h2>
    <table>
      <tr>
       <th class="top_row">Player Name</th>
       <th class="top_row">Games Played</th>
       <th class="top_row">Games Won</th>
       <th class="top_row">Games Lost</th>
       <th class = "top_row">Games Tied</th>
       <th class="top_row">Win Percentage</th>
       <th class="top_row">Rock Played %</th>
       <th class="top_row">Paper Played %</th>
       <th class="top_row">Scissors Played %</th>
     </tr>

      <%for(var i=0;i< user.length;i++){%>
         <% if(user[i].gamesplayed>0){ %>
          <tr>
          <td><span class="player_name_span"><%=user[i].name%> </span> </td>
          <td> <%=user[i].gamesplayed%></td>
          <td> <%=user[i].won%></td>
          <td> <%=user[i].lost%> </td>
          <td> <%=user[i].tied%> </td>
          <td> <%=Math.round((user[i].won/(user[i].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((user[i].rockplayed)/(user[i].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((user[i].paperplayed)/(user[i].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((user[i].scissorsplayed)/(user[i].gamesplayed))*100)+"%"%></td>
          </tr>
          <% } else{ %>
             <tr>
         <td><span class="player_name_span"><%=user[i].name%></span></td>
         <td>0</td>
         <td>0</td>
         <td>0</td>
         <td>0</td>
         <td>0%</td>
         <td>0%</td>
         <td>0%</td>
         <td>0%</td>
             </tr>
  <% } %>
          <%}%>
    </table>

    <h3> Villain Stats</h2>
    <table>
      <tr>
       <th class="top_row">Villain name</th>
       <th class="top_row">Games Played</th>
       <th class="top_row">won </th>
       <th class="top_row">lost </th>
       <th class = "top_row"> tied </th>
       <th class="top_row">Win Percentage</th>
       <th class="top_row">rockplayed% </th>
       <th class="top_row">paperplayed% </th>
       <th class="top_row">scissorsplayed% </th>
     </tr>

      <%for (var k=0;k< villain.length;k++){%>
        <% if(villain[k].gamesplayed>0){ %>
          <tr>
          <td><span class="player_name_span"><%=villain[k].name.replace('_', ' ')%> </span> </td>
          <td> <%=villain[k].gamesplayed%></td>
          <td> <%=villain[k].won%></td>
          <td> <%=villain[k].lost%></td>
          <td> <%=villain[k].tied%> </td>
          <td> <%=Math.round((villain[k].won/(villain[k].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((villain[k].rockplayed)/(villain[k].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((villain[k].paperplayed)/(villain[k].gamesplayed))*100)+"%"%></td>
          <td> <%=Math.round(((villain[k].scissorsplayed)/(villain[k].gamesplayed))*100)+"%"%></td>
          </tr>
          <% } else{ %>
              <tr>
          <td><span class="player_name_span"><%=villain[k].name.replace('_', ' ')%></span></td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0%</td>
          <td>0%</td>
          <td>0%</td>
          <td>0%</td>
              </tr>
   <% } %>
          <%}%>
    </table>


    <div id "strats">
      <ul>
        <li> Bones will randomly throws paper, rock, or scissors.</li>
        <li> Manny will always throw paper. </li>
        <li> Regal will always throw rock.</li>
        <li> Mickey will always throw scissors.</li>
        <li> Gato will choose a randomly generated weapon, but then he will sometimes choose to win, lose, or tie, with the weighting towards winning </li>
        <li> Mr. Modern will be randomly assigned a weapon, but then he will sometimes choose to win, lose, or tie, with the weighting towards tieing. </li>
        <li> The Boss will always win.</li>
        <li> Comic Hans will always lose just like Comic Sans.</li>
        <li> Harry will randomly throws paper, rock, or scissors.</li>
        <li> Pixie will randomly throws paper, rock, or scissors. </li>
        <li> Spock will randomly throws paper, rock, or scissors. </li>
        <li> The Magician will randomly throws paper, rock, or scissors.</li>
    </div>


    <form action="/playagain" method="Get">
       <input type="submit" name="Play Again" value="Play Again!">
    </form>
  </div>
  <% include global/footer %>
  <script src="scripts/scripts.js"></script>
 </body>
</html>
